# gotest

A Go tool that runs `go test` recursively in the current directory and all subdirectories containing Go files, generates a coverage HTML report, and opens it in your default browser.

## Installation

```bash
go install github.com/hjia/gotest@latest
```

Or build locally:

```bash
go build -o gotest .
```

## Usage

```bash
# Run tests (minimal output - shows only errors and coverage summary)
gotest

# Run with detailed output (per-package coverage, full test output)
gotest -d

# Pass any go test flags
gotest -v
gotest -d -v -race
gotest -run TestSpecific
gotest -timeout 30s

# All standard go test arguments are supported
gotest -count=1 -parallel=4
```

## Options

| Flag | Description |
|------|-------------|
| `-d`, `--detail` | Show detailed output (per-package coverage, full test output) |
| `-h`, `--help` | Show help message |

All other flags are passed directly to `go test`.

## Output Modes

**Default (minimal):**
- Shows package count
- Shows "All tests passed" or error details
- Shows total coverage summary

**Detailed (`-d`):**
- Lists all discovered packages
- Shows full `go test` command
- Streams test output in real-time
- Shows per-package coverage breakdown

## Coverage Output

- Coverage profile: `/tmp/cover.out`
- HTML report: `/tmp/cover.html`

## Skipped Directories

The following directories are automatically skipped:
- Hidden directories (starting with `.`)
- `vendor/`
- `testdata/`

## Platform Support

- macOS (uses `open`)
- Linux (uses `xdg-open`)
- Windows (uses `start`)
